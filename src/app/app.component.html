<div class="app-container">
  <div class="login-box">
    <h2>Login Schnell-Schnell</h2>
    <form [formGroup]="loginForm" (ngSubmit)="onSubmit()">
      <input
        type="email"
        name="username"
        formControlName="username"
        required
        placeholder="Email"
      />
      <div
        *ngIf="
          formControls.username.invalid &&
          (formControls.username.dirty || formControls.username.touched)
        "
        class="error"
      >
        <div *ngIf="formControls.username.errors.required">
          Email is required.
        </div>
        <div *ngIf="formControls.username.errors.minlength">
          Email must be at least 5 characters long.
        </div>
        <div *ngIf="formControls.username.errors.email">
          Email is not formatted.
        </div>
      </div>
      <br />
      <input
        type="password"
        name="password"
        ngModel
        formControlName="password"
        minlength="8"
        required
        placeholder="Password"
      />
      <div
        *ngIf="
          formControls.password.invalid &&
          (formControls.password.dirty || formControls.password.touched)
        "
        class="error"
      >
        <div *ngIf="formControls.password.errors.required">
          Password is required.
        </div>
        <div *ngIf="formControls.password.errors.minlength">
          Password must be at least 8 characters long.
        </div>
      </div>
      <br />
      <input
        type="text"
        name="ott"
        formControlName="ott"
        ngModel
        required
        placeholder="One Time Token"
      />
      <div
        *ngIf="
          formControls.ott.invalid &&
          (formControls.ott.dirty || formControls.ott.touched)
        "
        class="error"
      >
        <div *ngIf="formControls.ott.errors.required">OTT is required.</div>
        <div *ngIf="formControls.ott.errors.minlength">
          OTT must be at least 4 characters long.
        </div>
        <div *ngIf="formControls.ott.errors.maxlength">
          OTT must be at most 4 characters long.
        </div>
        <div *ngIf="formControls.ott.errors.allNumbers">
          OTT must be numeric only
        </div>
      </div>
      <br />
      <div *ngIf="apiErr" class="error">{{ apiErr }}</div>
      <div *ngIf="apiSuccessMsg" class="success">{{ apiSuccessMsg }}</div>
      <button *ngIf="!loading" type="submit">Login</button>
      <p *ngIf="loading">Loading...</p>
    </form>
  </div>
</div>
